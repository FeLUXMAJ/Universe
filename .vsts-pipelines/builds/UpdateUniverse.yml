# phases:
# - phase: Update Universe
#   variables:
#     GitAuthorName: 'ASP.NET CI'
#     GitAuthorEmail: 'aspnetci@users.noreploy.github.com'
#     IgnoredRepos: '@()'
#     ToolsSource: '$(SomeBuildToolsDir)'
#     VerboseLogging: 'false'
#     BuildArguments: "	/p:VersionMetadata=ci-bot /p:CompileOnly=true /p:Configuration=Release /p:BuildNumber=$(Build.BuildNumber) /p:ProduceRepoBinLog=$(variables.VerboseLogging)"
#   queue:
#     name: Hosted VS2017
#   steps:
#     - checkout: self
#     clean: true
#     - task: PowerShell@1
#       displayName: Update all Submodules
#       inputs:
#         scriptType: filePath
#         scriptName: ".\scripts\UpdateSubmodules.ps1"
#         arguments: '-Verbose -Force -GitAuthorName $(variables.GitAuthorName) -GitAuthorEmail $(variables.GitAuthorEmail) -IgnoredRepos $(variables.IgnoredRepos)'
#     - task: PowerShell@1
#       displayName: Update BuildTools
#       inputs:
#         scriptType: filePath
#         scriptName: ".\scripts\UpdateBuildTools.ps1"
#         arguments: "-Verbose -Force -ToolsSource '$(variables.ToolsSource)' -GitAuthorName $(variables.GitAuthorName) -GitAuthorEmail '$(variables.GitAuthorEmail)'"
#     - task: PowerShell@1
#       displayName: Build Universe
#       inputs:
#         scriptType: filePath
#         scriptName: ".\build.cmd"
#         arguments: "$(variables.BuildArguments)"
#     - script: git -c "user.name=$(variables.GitAuthorName)" -c "user.email=$(variables.GitAuthorEmail) push origin"
#       displayName: Push submodule updates to Universe
